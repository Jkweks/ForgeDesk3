<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Shelf Tag</title>

<style>
  /* Exact physical size */
  @page { size: 9in 6in; margin: 0; }

  html, body { height: 100%; }
  body {
    margin: 0;
    font-family: Calibri, Arial, Helvetica, sans-serif;
    color: #000;
    background: #fff;
  }

  .label {
    width: 9in;
    height: 6in;
    box-sizing: border-box;
    padding: 0.13in;            /* small margin: more image real estate */
    border: 3px solid #000;     /* thick edge so it looks intentional */
    display: flex;
    flex-direction: column;
    gap: 0.12in;
  }

  /* Shelf ID: big, but keeps space for the photos */
  .shelf-id {
    border: 3px solid #000;
    padding: 0.10in 0.15in;
    font-weight: 900;
    letter-spacing: 0.02em;
    font-size: 0.85in;          /* big and readable */
    line-height: 1;
    text-align: right;
  }

  /* Items area fills remaining space */
  .items {
    flex: 1;
    display: grid;
    gap: 0.12in;
    min-height: 0; /* important for large images in flex layouts */
  }

  /* B/W item card, image above label */
  .item {
    border: 3px solid #000;
    padding: 0.10in;
    display: grid;
    grid-template-rows: 1fr auto;  /* image gets all leftover space */
    align-items: center;
    justify-items: center;
    min-height: 0;
  }

  /* Make images as large as possible */
  .item img {
    width: 100%;
    height: 100%;
    object-fit: contain;          /* don’t crop the part */
    filter: grayscale(100%) contrast(130%); /* stays B/W & punchy */
  }

  .part-number {
    width: 100%;
    border-top: 3px solid #000;
    margin-top: 0.08in;
    padding-top: 0.06in;
    text-align: center;
    font-weight: 900;
    font-size: 0.34in;
    line-height: 1.05;
    word-break: break-word;       /* long part numbers won’t explode layout */
  }

  /* Layouts chosen to maximize image area per count */
  .items.count-1 { grid-template-columns: 1fr; grid-template-rows: 1fr; }
  .items.count-2 { grid-template-columns: repeat(2, 1fr); grid-template-rows: 1fr; }
  .items.count-3 { grid-template-columns: repeat(3, 1fr); grid-template-rows: 1fr; }

  /* 4 items: 2x2 makes bigger images than 4-across */
  .items.count-4 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, 1fr); }

  /* 5 items: 3 on top, 2 on bottom (bottom spans wider = bigger images) */
  .items.count-5 { grid-template-columns: repeat(6, 1fr); grid-template-rows: repeat(2, 1fr); }
  .items.count-5 .item:nth-child(1),
  .items.count-5 .item:nth-child(2),
  .items.count-5 .item:nth-child(3) { grid-column: span 2; } /* top row: 3 equal */
  .items.count-5 .item:nth-child(4),
  .items.count-5 .item:nth-child(5) { grid-column: span 3; } /* bottom row: 2 wider */

  /* 6 items: 3x2 */
  .items.count-6 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); }

  /* Print safety: no weird scaling artifacts */
  * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
</style>
</head>

<body>
  <div class="label">
    <div class="items count-4" id="items">
      <!-- Example items -->
      <div class="item">
        <img src="images/P10432.png" alt="P-10432">
        <div class="part-number">P-10432</div>
      </div>
      <div class="item">
        <img src="images/P88321.png" alt="P-88321">
        <div class="part-number">P-88321</div>
      </div>
      <div class="item">
        <img src="images/P77311.png" alt="P-77311">
        <div class="part-number">P-77311</div>
      </div>
      <div class="item">
        <img src="images/P11002.png" alt="P-11002">
        <div class="part-number">P-11002</div>
      </div>
      <div class="item">
        <img src="images/P11003.png" alt="P-11003">
        <div class="part-number">P-1100</div>
      </div>
    </div>
    <div class="shelf-id" id="shelfId">A.1.2</div>
  </div>

  <!-- Optional: dynamic fill from data -->
  <script>
    // Replace this object per shelf card
    const shelf = {
      id: "A.1.2",
      parts: [
        { number: "P-10432", img: "images/P10432.png" },
        { number: "P-88321", img: "images/P88321.png" },
        { number: "P-77311", img: "images/P77311.png" },
        { number: "P-11002", img: "images/P11002.png" },  
        { number: "P-11003", img: "images/P11003.png" },
      ]
    };

    const shelfIdEl = document.getElementById("shelfId");
    const itemsEl = document.getElementById("items");

    shelfIdEl.textContent = shelf.id;

    // Set layout class based on count (1–6)
    itemsEl.className = "items " + `count-${Math.min(Math.max(shelf.parts.length, 1), 6)}`;

    itemsEl.innerHTML = shelf.parts.slice(0, 6).map(p => `
      <div class="item">
        <img src="${p.img}" alt="${p.number}">
        <div class="part-number">${p.number}</div>
      </div>
    `).join("");
  </script>
</body>
</html>